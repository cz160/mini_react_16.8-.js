{"version":3,"sources":["react/index.js","react/Component.js","react-dom/index.js","index.js"],"names":["createElement","tag","attrs","childrens","Component","props","state","createComponent","comp","instance","prototype","render","constructor","renderComponent","base","renderer","_render","parentNode","replaceChild","setComponentProps","vnode","container","appendChild","undefined","String","document","createTextNode","dom","Object","keys","forEach","key","setAttribute","child","value","test","toLowerCase","style","cssText","k","removeAttribute","Home","color","ReactDOM","querySelector"],"mappings":"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","file":"blog-react.e31bb0bc.js","sourceRoot":"..","sourcesContent":["function createElement(tag,attrs,...childrens){\n  return {\n    tag, // 外层标签\n    attrs, // 所有属性(对象)\n    childrens // 所有孩子节点(数组)\n  }\n}\nexport default {\n  createElement,\n};","class Component{\n  constructor(props = {}){\n    this.props = props;\n    this.state = {};\n  }\n}\nexport default Component;","import Component from \"../react/Component\";\n\n// 创建组件\nfunction createComponent(comp,props){\n  // 区分函数形式和类形式\n  let instance;\n  if(comp.prototype&&comp.prototype.render){ // 类组件\n    instance = new comp();\n  }else{ // 函数组件(将其转换为类组件)\n    instance = new Component(props);\n    instance.constructor = comp;\n    instance.render = function(){\n      return this.constructor(props);\n    }\n  }\n  return instance;\n}\n// 渲染组件\nfunction renderComponent(comp){\n  let base;\n  const renderer = comp.render(); // 虚拟dom\n  base = _render(renderer) // 节点\n  // 替换节点\n  if(comp.base && comp.base.parentNode){\n    comp.base.parentNode.replaceChild(base,comp.base)\n  }\n  comp.base = base;\n}\n// 设置组件属性\nfunction setComponentProps(comp,props){\n  comp.props = props;\n}\n\n// 渲染页面\nfunction render(vnode,container){ // 参数：虚拟dom,容器节点\n  return container.appendChild(_render(vnode))\n}\n// 将虚拟dom转化为真实dom\nfunction _render(vnode){ \n  if(vnode === undefined || typeof vnode === 'boolean'|| vnode===null) return;\n  if(typeof vnode === 'number') vnode = String(vnode);\n  // 如果Vode是一个文本节点\n  if(typeof vnode === 'string'){\n    return document.createTextNode(vnode);  \n  }\n  const { tag,attrs,childrens } = vnode;\n  // 如果为组件\n  if(typeof tag === 'function'){\n    // 创建组件\n    const comp = createComponent(tag,attrs);\n    // 设置组件属性\n    setComponentProps(comp,attrs);\n    // 渲染组件\n    renderComponent(comp);\n    // 返回组件待渲染的节点\n    return comp.base;\n  }\n  const dom = document.createElement(tag);\n  if(attrs){\n    Object.keys(attrs).forEach(key=>{\n      // 设置属性\n      setAttribute(dom,key,attrs[key]);\n    })\n  }\n  // 递归渲染子节点\n  childrens && childrens.forEach(child => {\n    render(child,dom);\n  });\n  return dom;\n}\n// 设置属性\nfunction setAttribute(dom,key,value){\n  if(key === 'className'){\n    key = 'class';\n  }\n  // 如果是事件：onClick...\n  if(/on\\w+/.test(key)){\n    // 转为小写\n    key = key.toLowerCase();\n    dom[key] = value || '';\n  }else if(key === 'style'){ // 值可以为对象和字符串\n    if(!value || typeof value ==='string'){\n      dom.style.cssText = value || '';\n    }else if(value && typeof value === 'object'){\n      for(let k in value){\n        if(typeof value[k] === 'number'){\n          dom.style[k] = value[k]+'px';\n        }else{\n          dom.style[k] = value[k];\n        }\n      }\n    }\n  }else{\n    if(key in dom){\n      dom[key] = value || '';\n    }\n    if(value){\n      // 更新值\n      dom.setAttribute(key,value);\n    }else{\n      dom.removeAttribute(key);\n    }\n  }\n}\nexport default {\n  render\n}","import React from './react';\nimport ReactDOM from './react-dom';\n\n// const ele = (\n//   <div className='active' title=\"123\">\n//     <span style={{color:'red'}}>Hello React</span>\n//     <div>\n//       <p>111</p>\n//       <p>222</p>\n//     </div>\n//   </div>\n// )\nfunction Home(){\n  return (\n    <div className='active' title=\"123\">\n      <span style={{color:'red'}}>Hello React</span>\n      <div>\n        <p>111</p>\n        <p>222</p>\n      </div>\n    </div>\n  )\n}\nReactDOM.render(<Home title={\"cz\"}/>,document.querySelector('#root'))\n"]}